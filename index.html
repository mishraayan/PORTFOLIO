<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayan Mishra - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
       <!-- Using unpkg CDN for Three.js for better compatibility -->
     <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e2e8f0;
             overflow-x: hidden;
        }
            #hero-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
         main {
            position: relative;
            z-index: 10;
        }
        /* Add extra space at the bottom to allow full scroll */
        body {
            height: 200vh; /* Or more, to ensure scrolling is possible */
        }
        .hero-content {
            position: relative;
            z-index: 10;
        }
     .section {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            background-color: rgba(10, 10, 10, 0.8); /* Semi-transparent background for readability */
            backdrop-filter: blur(5px);
            border-radius: 1rem;
            margin-bottom: 5rem;
        }
        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .gradient-text {
            background: linear-gradient(90deg, #4f46e5, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(79, 70, 229, 0.4);
        }
        .nav-link {
            position: relative;
            transition: color 0.3s;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ec4899;
            transition: width 0.3s;
        }
        .nav-link:hover::after {
            width: 100%;
        }
@keyframes floatAndRotate {
    0% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(3deg); }
    100% { transform: translateY(0px) rotate(0deg); }
}

#profile-pic {
    animation: floatAndRotate 4s ease-in-out infinite;
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-in-out;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.7), 0 0 40px rgba(99, 102, 241, 0.5);
}

#profile-pic:hover {
    box-shadow: 0 0 30px rgba(99, 102, 241, 1), 0 0 60px rgba(99, 102, 241, 0.8);
}


    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-black/80 backdrop-blur-sm fixed top-0 left-0 right-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold gradient-text">Ayan Mishra</h1>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="nav-link text-slate-300 hover:text-white">About</a>
                <a href="#projects" class="nav-link text-slate-300 hover:text-white">Projects</a>
                <a href="#skills" class="nav-link text-slate-300 hover:text-white">Skills</a>
                <a href="#education" class="nav-link text-slate-300 hover:text-white">Education</a>
                <a href="#contact" class="nav-link text-slate-300 hover:text-white">Contact</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-2xl">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-black/90">
            <a href="#about" class="block py-2 px-6 text-slate-300 hover:bg-gray-800">About</a>
            <a href="#projects" class="block py-2 px-6 text-slate-300 hover:bg-gray-800">Projects</a>
            <a href="#skills" class="block py-2 px-6 text-slate-300 hover:bg-gray-800">Skills</a>
            <a href="#education" class="block py-2 px-6 text-slate-300 hover:bg-gray-800">Education</a>
            <a href="#contact" class="block py-2 px-6 text-slate-300 hover:bg-gray-800">Contact</a>
        </div>
    </header>
     <canvas id="hero-canvas"></canvas>

    <main class="pt-24">
        <!-- Hero Section -->
      <section id="hero" class="min-h-screen flex items-center justify-center text-center relative overflow-hidden">
             <div id="hero-animation" class="absolute inset-0 z-0"></div>
            <div class="z-10 p-6">
                <img  id="profile-pic"  src="/assets/ayan.jpg" alt="Ayan Mishra" class="w-40 h-40 rounded-full mx-auto mb-6 border-4 border-indigo-500 shadow-lg" onerror="this.onerror=null;this.src='https://placehold.co/160x160/111827/e2e8f0?text=AM';">
                <h2 class="text-5xl md:text-7xl font-bold mb-4 text-white animate-fade-in-down">Ayan Mishra</h2>
                <p class="text-xl md:text-2xl text-slate-300 mb-8 animate-fade-in-up">Motivated Developer | Java, JavaScript, React Expert</p>
                <a href="#projects" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition duration-300 transform hover:scale-105 animate-bounce">
                    View My Work
                </a>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section container mx-auto px-6 py-20">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text">About Me</h2>
            <div class="max-w-3xl mx-auto text-lg text-center text-slate-300 leading-relaxed">
                <p>I am a motivated and passionate developer with a strong foundation in Data Structures and Algorithms. My expertise lies in Java, JavaScript, and the React framework. I thrive in dynamic environments and am always eager to contribute to innovative projects and learn new technologies. I am committed to writing clean, efficient, and scalable code.</p>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="section bg-gray-900/50 py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-12 gradient-text">Projects</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Project 1 -->
                    <div class="bg-gray-800 rounded-lg p-6 card-hover">
                        <h3 class="text-2xl font-bold mb-2 text-white">FinTrack - Smart Expense Tracker</h3>
                        <p class="text-slate-400 mb-4">A full-stack finance tracker with secure login, real-time charts, and smart spending suggestions.</p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-indigo-500/20 text-indigo-300 text-sm font-medium px-2.5 py-0.5 rounded-full">Node.js</span>
                            <span class="bg-pink-500/20 text-pink-300 text-sm font-medium px-2.5 py-0.5 rounded-full">Express</span>
                            <span class="bg-green-500/20 text-green-300 text-sm font-medium px-2.5 py-0.5 rounded-full">MongoDB</span>
                            <span class="bg-sky-500/20 text-sky-300 text-sm font-medium px-2.5 py-0.5 rounded-full">React</span>
                        </div>
                        <a href="#" class="text-indigo-400 hover:text-indigo-300 font-semibold">Learn More <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                    <!-- Project 2 -->
                    <div class="bg-gray-800 rounded-lg p-6 card-hover">
                        <h3 class="text-2xl font-bold mb-2 text-white">Weather Forecast Web App</h3>
                        <p class="text-slate-400 mb-4">A full-stack weather app with city search, real-time data, and favorite cities feature.</p>
                         <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-indigo-500/20 text-indigo-300 text-sm font-medium px-2.5 py-0.5 rounded-full">React</span>
                            <span class="bg-pink-500/20 text-pink-300 text-sm font-medium px-2.5 py-0.5 rounded-full">Node.js</span>
                            <span class="bg-green-500/20 text-green-300 text-sm font-medium px-2.5 py-0.5 rounded-full">MongoDB</span>
                            <span class="bg-yellow-500/20 text-yellow-300 text-sm font-medium px-2.5 py-0.5 rounded-full">OpenWeatherMap API</span>
                        </div>
                        <a href="#" class="text-indigo-400 hover:text-indigo-300 font-semibold">Learn More <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                    <!-- Project 3 -->
                    <div class="bg-gray-800 rounded-lg p-6 card-hover">
                        <h3 class="text-2xl font-bold mb-2 text-white">Animeverse - Trailer Platform</h3>
                        <p class="text-slate-400 mb-4">A full-stack platform for streaming anime trailers with admin features and secure authentication.</p>
                         <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-indigo-500/20 text-indigo-300 text-sm font-medium px-2.5 py-0.5 rounded-full">Node.js</span>
                            <span class="bg-pink-500/20 text-pink-300 text-sm font-medium px-2.5 py-0.5 rounded-full">Express</span>
                            <span class="bg-green-500/20 text-green-300 text-sm font-medium px-2.5 py-0.5 rounded-full">MongoDB</span>
                             <span class="bg-red-500/20 text-red-300 text-sm font-medium px-2.5 py-0.5 rounded-full">Cloudinary</span>
                        </div>
                        <a href="#" class="text-indigo-400 hover:text-indigo-300 font-semibold">Learn More <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="section container mx-auto px-6 py-20">
            <h2 class="text-4xl font-bold text-center mb-12 gradient-text">Technical Skills</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div class="skill-item">
                    <i class="fab fa-java text-6xl text-indigo-400 mb-2"></i>
                    <p class="font-semibold">Java</p>
                </div>
                <div class="skill-item">
                    <i class="fab fa-js-square text-6xl text-yellow-400 mb-2"></i>
                    <p class="font-semibold">JavaScript</p>
                </div>
                <div class="skill-item">
                    <i class="fab fa-react text-6xl text-sky-400 mb-2"></i>
                    <p class="font-semibold">React</p>
                </div>
                <div class="skill-item">
                    <i class="fab fa-node-js text-6xl text-green-400 mb-2"></i>
                    <p class="font-semibold">Node.js</p>
                </div>
                <div class="skill-item">
                    <i class="fas fa-database text-6xl text-pink-400 mb-2"></i>
                    <p class="font-semibold">MongoDB</p>
                </div>
                 <div class="skill-item">
                    <i class="fab fa-html5 text-6xl text-orange-400 mb-2"></i>
                    <p class="font-semibold">HTML5</p>
                </div>
                 <div class="skill-item">
                    <i class="fab fa-css3-alt text-6xl text-blue-400 mb-2"></i>
                    <p class="font-semibold">CSS3</p>
                </div>
                 <div class="skill-item">
                    <i class="fas fa-fire text-6xl text-red-400 mb-2"></i>
                    <p class="font-semibold">Firebase</p>
                </div>
            </div>
        </section>

        <!-- Education Section -->
        <section id="education" class="section bg-gray-900/50 py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-12 gradient-text">Education & Certifications</h2>
                <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-6">Education</h3>
                        <div class="relative border-l-2 border-indigo-500 pl-8">
                           <!-- Education Item 1 -->
                            <div class="mb-8 relative">
                                <div class="absolute -left-[42px] top-1 w-4 h-4 bg-indigo-500 rounded-full border-4 border-gray-900"></div>
                                <p class="font-bold text-lg text-white">B.Tech Computer Science & Engineering</p>
                                <p class="text-slate-400">Narula Institute of Technology, Kolkata</p>
                                <p class="text-sm text-slate-500">Aug 2022 - Jul 2026</p>
                            </div>
                            <!-- Education Item 2 -->
                            <div class="mb-8 relative">
                                <div class="absolute -left-[42px] top-1 w-4 h-4 bg-indigo-500 rounded-full border-4 border-gray-900"></div>
                                <p class="font-bold text-lg text-white">Higher Secondary Education (95.6%)</p>
                                <p class="text-slate-400">Mahammadpur Sibnarayan Sikshayatan, Nandigram</p>
                                <p class="text-sm text-slate-500">2020 - 2022</p>
                            </div>
                             <!-- Education Item 3 -->
                            <div class="relative">
                                <div class="absolute -left-[42px] top-1 w-4 h-4 bg-indigo-500 rounded-full border-4 border-gray-900"></div>
                                <p class="font-bold text-lg text-white">Secondary Education (91%)</p>
                                <p class="text-slate-400">Mahammadpur Sibnarayan Sikshayatan, Nandigram</p>
                                <p class="text-sm text-slate-500">2019 - 2020</p>
                            </div>
                        </div>
                    </div>
                     <div>
                        <h3 class="text-2xl font-bold text-white mb-6">Certifications</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <i class="fas fa-award text-indigo-400 mt-1 mr-3"></i>
                                <span>IBM Certification on AI Mastering.</span>
                            </li>
                             <li class="flex items-start">
                                <i class="fas fa-award text-indigo-400 mt-1 mr-3"></i>
                                <span>NPTEL Certification in Soft Computing.</span>
                            </li>
                             <li class="flex items-start">
                                <i class="fas fa-award text-indigo-400 mt-1 mr-3"></i>
                                <span>Journal of Technology Certification for Publication of Melanoma Diagnosis using Deep Learning.</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section container mx-auto px-6 py-20 text-center">
            <h2 class="text-4xl font-bold mb-4 gradient-text">Get In Touch</h2>
            <p class="text-slate-300 max-w-2xl mx-auto mb-8">I'm currently seeking new opportunities. If you have a project in mind or just want to connect, feel free to reach out!</p>
            <a href="mailto:mishraayan18@gmail.com" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition duration-300 transform hover:scale-105 inline-block">
                Say Hello
            </a>
            <div class="flex justify-center space-x-6 mt-12">
                <a href="tel:+919547110906" class="text-slate-400 hover:text-white transition duration-300 text-2xl"><i class="fas fa-phone"></i></a>
                <a href="mailto:mishraayan18@gmail.com" class="text-slate-400 hover:text-white transition duration-300 text-2xl"><i class="fas fa-envelope"></i></a>
                <!-- Add links to LinkedIn, GitHub etc. when available -->
                 <a href="https://github.com/mishraayan" class="text-slate-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-github"></i></a>
                 <a href="https://www.linkedin.com/in/ayan-mishra-422322255/" class="text-slate-400 hover:text-white transition duration-300 text-2xl"><i class="fab fa-linkedin"></i></a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-center py-6">
        <p class="text-slate-500">&copy; 2024 Ayan Mishra. All Rights Reserved.</p>
    </footer>
  <script>
document.addEventListener("DOMContentLoaded", () => {
    const profilePic = document.getElementById("profile-pic");

    profilePic.addEventListener("mousemove", (e) => {
        const rect = profilePic.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const rotateX = ((y / rect.height) - 0.5) * 15;
        const rotateY = ((x / rect.width) - 0.5) * -15;

        profilePic.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
    });

    profilePic.addEventListener("mouseleave", () => {
        profilePic.style.transform = "rotateX(0deg) rotateY(0deg) scale(1)";
    });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.9.3/tsparticles.bundle.min.js"></script>
<script>
tsParticles.load("hero-animation", {
    background: { color: "transparent" },
    particles: {
        number: { value: 40 },
        color: { value: "#6366f1" },
        shape: { type: "circle" },
        opacity: { value: 0.6 },
        size: { value: { min: 2, max: 5 } },
        move: { enable: true, speed: 1, direction: "none", random: true, outModes: "out" },
        links: { enable: true, distance: 150, color: "#6366f1", opacity: 0.3, width: 1 }
    },
    interactivity: {
        events: {
            onHover: { enable: true, mode: "repulse" },
            onClick: { enable: true, mode: "push" }
        }
    }
});
</script>




    <script>
        // Mobile Menu Toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Animate sections on scroll
        const sections = document.querySelectorAll('.section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        sections.forEach(section => {
            observer.observe(section);
        });
        
        // Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                if (!document.getElementById('mobile-menu').classList.contains('hidden')) {
                    document.getElementById('mobile-menu').classList.add('hidden');
                }
            });
        });
        

        // Hero section background animation
        const heroAnimation = document.getElementById('hero-animation');
        for (let i = 0; i < 50; i++) {
            const dot = document.createElement('div');
            dot.classList.add('absolute', 'rounded-full');
            const size = Math.random() * 3;
            dot.style.width = `${size}px`;
            dot.style.height = `${size}px`;
            dot.style.backgroundColor = `rgba(79, 70, 229, ${Math.random()})`;
            dot.style.left = `${Math.random() * 100}%`;
            dot.style.top = `${Math.random() * 100}%`;
            heroAnimation.appendChild(dot);
        }

        anime({
            targets: '#hero-animation .absolute',
            translateX: () => anime.random(-50, 50),
            translateY: () => anime.random(-50, 50),
            scale: () => anime.random(1, 1.5),
            duration: 3000,
            delay: anime.stagger(100),
            direction: 'alternate',
            loop: true,
            easing: 'easeInOutSine'
        });

        // Animate skills on hover
        const skillItems = document.querySelectorAll('.skill-item');
        skillItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                anime({
                    targets: item,
                    translateY: -10,
                    scale: 1.1,
                    duration: 200,
                    easing: 'easeOutQuad'
                });
            });
            item.addEventListener('mouseleave', () => {
                anime({
                    targets: item,
                    translateY: 0,
                    scale: 1,
                    duration: 200,
                    easing: 'easeInQuad'
                });
            });
        });
        
        // Keyframe animations for hero text
        const style = document.createElement('style');
        style.innerHTML = `
            @keyframes fadeInDown {
                0% { opacity: 0; transform: translateY(-20px); }
                100% { opacity: 1; transform: translateY(0); }
            }
            .animate-fade-in-down {
                animation: fadeInDown 1s ease-out forwards;
            }

            @keyframes fadeInUp {
                0% { opacity: 0; transform: translateY(20px); }
                100% { opacity: 1; transform: translateY(0); }
            }
            .animate-fade-in-up {
                animation: fadeInUp 1s ease-out 0.5s forwards;
                opacity: 0; /* Start hidden */
            }
            
            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
                40% {transform: translateY(-20px);}
                60% {transform: translateY(-10px);}
            }
            .animate-bounce {
                animation: bounce 2s infinite 1.5s;
            }
        `;
        document.head.appendChild(style);

    </script>
   <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

        // --- Basic Scene Setup ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.querySelector('#hero-canvas'), alpha: true });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.outputEncoding = THREE.sRGBEncoding;
        camera.position.set(0, 1.5, 6);

        // --- Lighting ---
        scene.add(new THREE.AmbientLight(0xffffff, 1.5));
        const dirLight = new THREE.DirectionalLight(0xffffff, 2);
        dirLight.position.set(2, 5, 5);
        scene.add(dirLight);
        
        // --- Animation & Model Variables ---
        let mixer, model;
        const clock = new THREE.Clock();
        const actions = {};
        let activeActionName = '';

        // --- Load Model ---
        const loader = new GLTFLoader();
        loader.load(
            'https://threejs.org/examples/models/gltf/RobotExpressive/RobotExpressive.glb',
            (gltf) => {
                model = gltf.scene;
                model.scale.set(0.8, 0.8, 0.8);
                model.position.y = -2;
                scene.add(model);

                mixer = new THREE.AnimationMixer(model);
                gltf.animations.forEach((clip) => {
                    actions[clip.name] = mixer.clipAction(clip);
                });
                // Start with Idle animation
                setActiveAction('Idle');
            },
            undefined,
            (error) => console.error('Error loading model:', error)
        );
        
        // --- Animation Control ---
        function setActiveAction(name) {
            if (activeActionName === name) return;
            
            const previousAction = actions[activeActionName];
            const activeAction = actions[name];
            
            activeActionName = name;
            
            if (previousAction) previousAction.fadeOut(0.5);

            activeAction
                .reset()
                .setEffectiveTimeScale(1)
                .setEffectiveWeight(1)
                .fadeIn(0.5)
                .play();
        }

        // --- Scroll-based Animation Timeline ---
        const animationScripts = [];

        // Move character down the screen
        animationScripts.push({
            start: 0, end: 100,
            func: () => {
                if (model) {
                    model.position.y = lerp(-2, -window.innerHeight / 100, scalePercent(0, 100));
                }
            }
        });
        
        // Animation triggers
        animationScripts.push({ start: 0, end: 25, func: () => setActiveAction('Wave') });
        animationScripts.push({ start: 25, end: 50, func: () => setActiveAction('Jump') });
        animationScripts.push({ start: 50, end: 75, func: () => setActiveAction('Dance') });
        animationScripts.push({ start: 75, end: 100, func: () => setActiveAction('Death') }); // Using 'Death' as a final pose

        function playScrollAnimations() {
            const scrollPercent = (document.documentElement.scrollTop || document.body.scrollTop) / 
                                  ((document.documentElement.scrollHeight || document.body.scrollHeight) - document.documentElement.clientHeight) * 100;
            
            animationScripts.forEach(script => {
                if (scrollPercent >= script.start && scrollPercent < script.end) {
                    script.func();
                }
            });
        }

        // Helper functions for interpolation
        function lerp(start, end, a) { return (1 - a) * start + a * end; }
        function scalePercent(start, end) {
            const scrollPercent = (document.documentElement.scrollTop || document.body.scrollTop) / 
                                  ((document.documentElement.scrollHeight || document.body.scrollHeight) - document.documentElement.clientHeight) * 100;
            return (scrollPercent - start) / (end - start);
        }

        // --- Main Loop ---
        function animate() {
            requestAnimationFrame(animate);
            playScrollAnimations();
            const delta = clock.getDelta();
            if (mixer) mixer.update(delta);
            renderer.render(scene, camera);
        }
        animate();

        // --- Resize Handler ---
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
